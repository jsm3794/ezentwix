<div class="content-box">
    <div class="tab-container">
        <div class="tab-item" th:onclick="'location.href=\'/inventory/detail/' + ${product.product_id} + '\''">
            <span>상세정보</span>
        </div>
        <div class="tab-item current">
            <span>재고수정</span>
        </div>
        <div class="tab-item">
            <span>수정내역</span>
        </div>
    </div>

    <div class="tab-content-wrap">
        <!-- 팝업 알림 HTML -->
        <div id="popup-alert" class="popup-alert" style="display: none;">
            <span id="popup-message"></span>
            <button id="popup-close-btn">확인</button>
        </div>
        
        <!-- 재고 수정 폼 -->
        <form id="inventory-form" th:action="@{/inventory/update}" th:object="${product}" method="post">
            <input type="hidden" name="product_id" th:value="${product.product_id}" />
            <div class="content">
                <!-- 왼쪽 열 -->
                <div class="left-column">
                    <img th:src="${'/api/product_thumbnail/' + product.product_code}" alt="Product Image"
                        class="product-image">
                    <div class="product-info">
                        <div class="info-row">
                            <span class="info-label">제품 ID</span>
                            <input type="text" th:field="*{product_id}" class="readonly" readonly />
                        </div>
                        <div class="info-row">
                            <span class="info-label">제품 코드</span>
                            <input type="text" th:field="*{product_code}" class="readonly" readonly />
                        </div>
                        <div class="info-row">
                            <span class="info-label">제품명</span>
                            <input type="text" th:field="*{product_name}" class="editable" />
                        </div>
                    </div>
                </div>

                <!-- 오른쪽 열 -->
                <div class="right-column">
                    <div class="info-row">
                        <span class="info-label">제품 분류</span>
                        <div class="category-fields">
                            <input type="text" th:field="*{category_large}" class="editable" placeholder="대분류" />
                            <input type="text" th:field="*{category_medium}" class="editable" placeholder="중분류" />
                            <input type="text" th:field="*{category_small}" class="editable" placeholder="소분류" />
                            <input type="text" th:field="*{category_detail}" class="editable" placeholder="세분류" />
                        </div>
                    </div>
                    <div class="info-row">
                        <span class="info-label">브랜드</span>
                        <input type="text" th:field="*{brand}" class="editable" />
                    </div>
                    <div class="info-row">
                        <span class="info-label">최소필요수량</span>
                        <input type="number" th:field="*{min_required_qty}" class="readonly" readonly />
                    </div>
                    <div class="info-row">
                        <span class="info-label">진열수량</span>
                        <input type="number" th:field="*{display_qty}" id="display_qty" class="readonly" readonly />
                        <input type="number" id="reverse-move-qty" class="editable" placeholder="옮길 진열수량 입력" />
                        <button type="button" id="reverse-move-btn" class="move-btn">재고수량으로 이동</button>
                    </div>
                    <div class="info-row">
                        <span class="info-label">재고수량</span>
                        <input type="number" th:field="*{storage_qty}" id="storage_qty" class="readonly" readonly />
                        <input type="number" id="move-qty" class="editable" placeholder="옮길 재고 개수 입력" />
                        <button type="button" id="move-btn" class="move-btn">진열수량으로 이동</button>
                    </div>
                    <div class="info-row">
                        <span class="info-label">구매가격</span>
                        <input type="number" step="1" th:field="*{purchase_price}" class="editable" />
                    </div>
                    <div class="info-row">
                        <span class="info-label">판매가격</span>
                        <input type="number" step="1" th:field="*{selling_price}" class="editable" />
                    </div>
                    <div class="info-row">
                        <span class="info-label">할인율</span>
                        <input type="number" step="0.01" th:field="*{discount}" class="editable" />
                    </div>
                    <div class="info-row">
                        <span class="info-label">생성날짜</span>
                        <span class="info-value-tab2"
                            th:text="${#dates.format(product.create_date, 'yyyy-MM-dd')}"></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">수정날짜</span>
                        <span class="info-value-tab2"
                            th:text="${#dates.format(product.update_date, 'yyyy-MM-dd')}"></span>
                    </div>
                    <button type="submit" class="save-btn">저장하기</button>
                </div>
            </div>
        </form>
    </div>
</div>